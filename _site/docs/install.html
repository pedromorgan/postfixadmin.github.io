<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Install | PostfixAdmin - Web amdin interface for postfix mailserver</title>
<link rel="icon" href="/img/favicon.ico" type="image/x-icon" /> 
<link rel="shortcut icon" href="/img/favicon.png" type="image/png" />

<link href="/bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet">
<link href="/bootstrap-3.3.7-dist/css/bootstrap-theme.min.css" rel="stylesheet">
<link href="/css/jekyll-github.css" rel="stylesheet">

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="/bootstrap-3.3.7-dist/js/bootstrap.min.js" type="text/javascript"></script>


<link href="/css/pfa.17.css" rel="stylesheet">


</head>

<body>
    
    

    
<nav class="navbar">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <div id="main-logo"><a class="navbar-brand" href="/"><span class="logo-postfix">postfix</span><span class="logo-dot">.</span><span class="logo-admin">admin</span></a>
            </div>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
				
                <li >
                    <a href="/index.html"><span class="glyphicon glyphicon-education" aria-hidden="true"></span> Index</a></li>
                    
                <li >
                    <a href="/docs/install.html"><span class="glyphicon glyphicon-education" aria-hidden="true"></span> Install</a></li>

				<li >
                    <a href="/docs/faq.html"><span class="glyphicon glyphicon-screenshot" aria-hidden="true"></span> FAQ</a></li>
                    
                 <li >
                    <a href="/docs/postfix.html"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Postfix</a></li>
                    
                 <li >
                    <a href="/docs/dovecot.html"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Dovecot</a></li>
                    
                 <li >
                    <a href="/docs/security.html"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Security</a></li>
                    
                        
           
                    
                    
                <li >
                    <a href="/docs/vacation.html"><span class="glyphicon glyphicon-sound-stereo" aria-hidden="true"></span> Vacation</a></li>
                
                   <li >
                    <a href="http://pfa.exampople.com"><span class="glyphicon glyphicon-book" aria-hidden="true"></span> Live Demo</a></li>
                    
               
    
                    
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Project <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="https://github.com/postfixadmin/" target="github"><span class="glyphicon glyphicon-object-align-horizontal" aria-hidden="true"></span> PostfixAdmin @ github</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">PostfixAdmin</li>
                               <li><a href="https://github.com/postfixadmin/postfixadmin" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                            <li><a href="https://github.com/postfixadmin/postfixadmin/issues" starget="github"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Issues</a></li>
       
                        <li class="dropdown-header">postfixadmin.github.io</li>
                        <li><a href="https://github.com/postfixadmin/postfixadmin.github.io" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                        <li><a href="https://github.com/postfixadmin/postfixadmin.github.io/issues" starget="github"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Issues</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Support <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="https://gitter.im/postfixadmin/community" target="_blank">Chat on gitter.im</a></li>
                        <li><a href="http://stackoverflow.com/questions/tagged/postfixadmin" target="_blank">PostfixAdmin at StackOverflow</a></li>
                    </ul>
                <li>
                 
            </ul>
        </div>
    </div>
</nav>


    <div class="container revel-docs">
        <div class="row">
            <div class="col-md-3">
               
            </div>

            <div class="col-md-9">
                <div class="page-header">
                    <a href="https://github.com/postfixadmin/postfixadmin.github.io/edit/master/docs/install.md" class="improve-page btn dbtn-info" target="_blank"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Improve Page</a>
                    <h1>Install</h1>
                </div>
                <div class="main">
                    <h2 id="requirements">REQUIREMENTS</h2>
<ul>
  <li>Postfix 2.0 or higher.</li>
  <li>Apache 1.3.27 / Lighttpd 1.3.15 or higher.</li>
  <li>PHP 5.1.2 or higher.</li>
  <li>one of the following databases:
    <ul>
      <li>MySQL 3.23 or higher (5.x recommended)</li>
      <li>MariaDB (counts as MySQL ;-)</li>
      <li>PostgreSQL 7.4 (or higher)</li>
      <li>SQLite 3.12 (or higher)</li>
    </ul>
  </li>
</ul>

<h2 id="read-this-first">READ THIS FIRST!</h2>
<p>When this is an upgrade from a previous version of Postfix Admin, please read 
DOCUMENTS/UPGRADE.TXT also!</p>

<p>If you need to setup Postfix to be able to handle Virtual Domains and Virtual
Users check out:</p>

<ul>
  <li>the PostfixAdmin documentation in the DOCUMENTS/ directory</li>
  <li>our wiki at https://sourceforge.net/p/postfixadmin/wiki/</li>
</ul>

<p>There are also lots of HOWTOs around the web. Be warned that many of them 
(even those listed below) may be outdated or incomplete. 
Please stick to the PostfixAdmin documentation, and use those HOWTOs only if
you need some additional information that is missing in the PostfixAdmin 
DOCUMENTS/ folder.</p>

<ul>
  <li>http://codepoets.co.uk/postfixadmin-postgresql-courier-squirrelmail-debian-etch-howto-tutorial (Debian+Courier+PostgreSQL+Postfix+Postfixadmin)</li>
  <li>http://bliki.rimuhosting.com/space/knowledgebase/linux/mail/postfixadmin+on+debian+sarge (Postfix+MySQL+Postfixadmin+Dovecot)</li>
  <li>http://en.gentoo-wiki.com/wiki/Virtual_mail_server_using_Postfix,_Courier_and_PostfixAdmin (Postfix+MySQL+Postfixadmin+Courier)</li>
</ul>

<ol>
  <li>
    <h2 id="unarchive-new-postfix-admin">Unarchive new Postfix Admin</h2>
  </li>
</ol>

<p>Make sure that you are in your WWW directory and then unarchive the
Postfix Admin archive (whatever the filename is):</p>

<p>$ tar -zxvf postfixadmin-$version.tgz</p>

<p>(if you installed PostfixAdmin as RPM or DEB package, you can obviously skip this step.)</p>

<ol>
  <li>
    <h2 id="setup-a-database">Setup a Database</h2>
  </li>
</ol>

<p>With your chosen/preferred database server (i.e. MySQL or PostgreSQL), 
you need to create a new database. A good name for this could be :</p>

<p>postfix</p>

<p>The mechanics of creating the database vary depending on which server 
you are using. Most users will find using phpMyAdmin or phpPgAdmin the
easiest route.</p>

<p>If you wish to use the command line, you’ll need to do something like :</p>

<p>For MySQL:
  CREATE DATABASE postfix;
  CREATE USER ‘postfix’@’localhost’ IDENTIFIED BY ‘choose_a_password’;
  GRANT ALL PRIVILEGES ON <code class="highlighter-rouge">postfix</code> . * TO ‘postfix’@’localhost’;</p>

<p>For PostgreSQL:
  CREATE USER postfix WITH PASSWORD ‘whatever’;
  CREATE DATABASE postfix OWNER postfix ENCODING ‘unicode’;</p>

<ol>
  <li>
    <h2 id="configure-postfixadmin-so-it-can-find-the-database">Configure PostfixAdmin so it can find the database</h2>
  </li>
</ol>

<p>Create a config.local.php file for your local configuration:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="nv">$CONF</span><span class="p">[</span><span class="s1">'database_type'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'mysqli'</span><span class="p">;</span>
<span class="nv">$CONF</span><span class="p">[</span><span class="s1">'database_user'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'postfix'</span><span class="p">;</span>
<span class="nv">$CONF</span><span class="p">[</span><span class="s1">'database_password'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'postfixadmin'</span><span class="p">;</span>
<span class="nv">$CONF</span><span class="p">[</span><span class="s1">'database_name'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'postfix'</span><span class="p">;</span>

<span class="nv">$CONF</span><span class="p">[</span><span class="s1">'configured'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre></div></div>

<p>See config.inc.php for all available config options and their default value.</p>

<p>You can also edit config.inc.php instead of creating a config.local.php,
but this will make updates harder and is therefore not recommended.</p>

<p>The most important settings are those for your database server.</p>

<p>You must also change the line that says :</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$CONF</span><span class="p">[</span><span class="s1">'configured'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</code></pre></div></div>
<p>to</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$CONF</span><span class="p">[</span><span class="s1">'configured'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</code></pre></div></div>

<p>PostfixAdmin does not require write access to any files except the templates_c 
directory (smarty cache). You can therefore leave the files owned by root (or
another user); as long as the web server user (e.g. www-data) can read them, it
will be fine.
For templates_c/, allow write access (only) for the web server user (e. g. www-data).
The easiest way to do this is   chown -R www-data templates_c</p>

<ol>
  <li>
    <h2 id="check-settings-and-create-admin-user">Check settings, and create Admin user</h2>
  </li>
</ol>

<p>Hit http://yourserver.tld/postfixadmin/setup.php in a web browser.</p>

<p>You should see a list of ‘OK’ messages.</p>

<p>The setup.php script will attempt to create the database structure 
(or upgrade it if you’re coming from a previous version).</p>

<p>Assuming everything is OK you can specify a password (which you’ll 
need to use setup.php again in the future); when you submit the form, 
the hashed value (which you need to enter into config.inc.php is echoed 
out - with appropriate instructions on what to do with it).</p>

<p>create the admin user using the form displayed.</p>

<ol>
  <li>
    <h2 id="use-postfixadmin">Use PostfixAdmin</h2>
  </li>
</ol>

<p>This is all that is needed. Fire up your browser and go to the site that you
specified to host Postfix Admin.</p>

<ol>
  <li>
    <h2 id="integration-with-postfix-dovecot-etc">Integration with Postfix, Dovecot etc.</h2>
  </li>
</ol>

<p>Now that PostfixAdmin is working, you need to do some configuration in Postfix,
Dovecot etc. so that they use the domains, mailboxes and aliases you setup in
PostfixAdmin.</p>

<p>The files in the DOCUMENTS/ directory explain which settings you need to
do/change.</p>

<ol>
  <li>
    <h2 id="xmlrpc-integration-optional">XMLRPC Integration (OPTIONAL!)</h2>
  </li>
</ol>

<p>See ADDITIONS/squirrelmail-plugin
See xmlrpc.php - only a subset of Postfixadmin’s functionality is currently exposed.
See config.inc.php - see xmlrpc_enabled key (defaults to off).</p>

<p>You’ll need to install a copy of the Zend Framework (version 1.12.x) within Postfixadmin
or your PHP include_path (see header within xmlrpc.php).
NOTE: The XMLRPC interface is <em>not compatible</em> with Zend Framework version 2.x.
You’ll need to enable the xmlrpc link (see config.inc.php)</p>

<ol>
  <li>
    <h2 id="more-information">More information</h2>
  </li>
</ol>

<p>PostfixAdmin is hosted on SourceForge. For the forum posts and source updates, see:
    https://sourceforge.net/projects/postfixadmin</p>

<p>The code and issue tracker is on GitHub:
    https://github.com/postfixadmin/postfixadmin</p>

<p>There is also #postfixadmin on irc.freenode.net.</p>

                    
                    
                </div>
            </div>
        </div>
        
        <footer>
            <p>&copy; PostfixAdmin.Team - PostfixAdmin is released under the <a href="https://github.com/postfixadmin/postfixadmin/blob/master/LICENSE.TXT">Various FOSS License</a></p>
        </footer>
    </div>
</body>
</html>

